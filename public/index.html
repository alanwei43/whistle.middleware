<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>设置 middleware</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div id="app" class="root" @vue:mounted="mounted">
    <div>
      <div id="tips" v-if="status.errorTip">{{status.errorTip}}</div>
      <label class="form-control">
        中间件存放目录
        <button @click="submit">保存配置</button>
        <input v-model="data.middlewareBaseDir" maxlength="3072" type="text" placeholder="请输入完整目录路径" />
      </label>

      <div class="desc">
        <p>
          如果设置了中间件的目录，则使用规则的时候可以使用相对路径，假设设置的存放目录为 <strong>/data/middlewares</strong>，则以下两种规则是等同的：
        </p>
        <p>
        <pre>pattern middleware:///data/middlewares/delayResponse.js?param=cityId</pre>
        </p>
        <p>
        <pre>pattern middleware://delayResponse.js?param=cityId</pre>
        </p>
      </div>
      <label class="form-control">
        嵌套页面URL地址
        <input v-model="data.iframeUrl" type="text" />
      </label>
      <div>
        <iframe v-if="data.iframeUrl" :src="data.iframeUrl" frameborder="0"></iframe>
      </div>
    </div>
  </div>
  <script src="petite-vue.iife.js"></script>
  <script src="app.js"></script>

</body>

</html>